@model FYP.Models.MessageList


<div class="container">
    <div class="page-header">
        <fieldset>
            <h1>Messager List</h1>
        </fieldset>

    </div>
    <div class="container">
        <table class="table table-hover">
            <thead>
                <tr class="info">
                    <th scope="col">
                        No.
                    </th>
                    <th scope="col">
                        Full Name
                    </th>
                    <th>
                    </th>

                </tr>
            </thead>
            <tbody>
                @{ int rowNum = 0;

                    if (Model == null)
                    {
                        <tr>
                            <th colspan="8" class="text-center">
                                No Result
                            </th>
                        </tr>
                    }
                    else if (Model.messageList == null)
                    {
                        <tr>
                            <th colspan="20" class="text-center">
                                No Result
                            </th>
                        </tr>
                    }
                    else
                    {
                        foreach (var item in Model.messageList)
                        {
                            if (Model.messageList == null)
                            {
                                <tr>
                                    <th colspan="8" class="text-center">
                                        No Result
                                    </th>
                                </tr>
                            }
                            <tr>
                                <td>
                                    @(rowNum += 1)
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.FirstName)
                                    @Html.DisplayFor(modelItem => item.LastName)
                                </td>
                                <td class="text-center"> 
                                    @if (Session["UserID"] != null)
                                    {
                                        if (Session["UserID"].ToString() == item.Receiver)
                                        {
                                            <span class="glyphicon glyphicon-comment"></span> @Html.ActionLink("View Chat", "MessageBoard", "MessageBoard",  new { cid = item.Sender }, null)
                                        }
                                        else if (Session["UserID"].ToString() == item.Sender)
                                        {
                                            <span class="glyphicon glyphicon-comment"></span> @Html.ActionLink("View Chat", "MessageBoard", "MessageBoard",  new { cid = item.Receiver }, null)
                                        }
                                    }
                                    </td>

                            </tr>

                                    }


                    }



                }
            </tbody>
        </table>
    </div>

    </div>


